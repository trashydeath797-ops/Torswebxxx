<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monetag Mini App Ads</title>
  <!-- SDK Load -->
  <script src="//libtl.com/sdk.js" data-zone="9911742" data-sdk="show_9911742"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; padding: 20px; }
    button { margin: 10px; padding: 10px 20px; font-size: 16px; cursor: pointer; }
    #sdkStatus { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Monetag Ads Demo</h1>
  
  <!-- Buttons for user-triggered ads -->
  <button id="btnRewardedInterstitial">Watch Rewarded Interstitial</button>
  <button id="btnRewardedPopup">Watch Rewarded Popup</button>

  <div id="sdkStatus">SDK Status: Loading...</div>

  <script>
    // SDK Status Check
    function checkSDK() {
      if (typeof show_9911742 !== 'undefined') {
        document.getElementById('sdkStatus').innerText = 'SDK Status: Loaded ✅';
      } else {
        document.getElementById('sdkStatus').innerText = 'SDK Status: Not Loaded ❌';
      }
    }
    // Check after small delay to allow SDK load
    setTimeout(checkSDK, 1000);

    // Rewarded Interstitial
    document.getElementById('btnRewardedInterstitial').addEventListener('click', () => {
      if(typeof show_9911742 !== 'undefined'){
        show_9911742().then(() => {
          alert('You have seen a Rewarded Interstitial Ad!');
          // TODO: Add your reward logic here
        }).catch(e => console.log('Ad failed:', e));
      }
    });

    // Rewarded Popup
    document.getElementById('btnRewardedPopup').addEventListener('click', () => {
      if(typeof show_9911742 !== 'undefined'){
        show_9911742('pop').then(() => {
          alert('You have seen a Rewarded Popup Ad!');
          // TODO: Add your reward logic here
        }).catch(e => {
          console.log('Popup ad failed or closed:', e);
        });
      }
    });

    // Auto In-App Interstitial (high frequency)
    function autoInterstitial() {
      if(typeof show_9911742 !== 'undefined'){
        show_9911742({
          type: 'inApp',
          inAppSettings: {
            frequency: 2,  // 2 ads automatically
            capping: 0.1,  // within 6 minutes
            interval: 30,  // 30s gap
            timeout: 5,    // 5s delay
            everyPage: false
          }
        });
      }
    }

    // Call autoInterstitial every 1 min (adjust if needed)
    setInterval(autoInterstitial, 60000);

    // Initial autoInterstitial on page load
    window.addEventListener('load', autoInterstitial);
  </script>
</body>
</html>
